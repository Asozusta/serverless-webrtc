{"version":3,"sources":["webpack:///static/js/app.9f19905187d415d20f5c.js","webpack:///./src/main.js","webpack:///./src/store/store.js","webpack:///./src/assets/js/WebRTC.js","webpack:///App.vue","webpack:///Footer.vue","webpack:///Home.vue","webpack:///TextChat.vue","webpack:///./src/assets/img/spinner.gif","webpack:///./src/App.vue?d818","webpack:///./src/components/TextChat.vue?e507","webpack:///./src/components/VideoChat.vue?9dc2","webpack:///./src/components/Footer.vue?c06a","webpack:///./src/components/Home.vue?d5f1","webpack:///./src/App.vue","webpack:///./src/components/Footer.vue","webpack:///./src/components/Home.vue","webpack:///./src/components/TextChat.vue","webpack:///./src/components/VideoChat.vue"],"names":["webpackJsonp","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","onDeviceReady","window","cordova","logger","__onDeviceReady","_vue","_vue2","_App","_App2","document","addEventListener","el","components","App","Object","defineProperty","value","_events","store","EventEmitter","appData","viewEnabled","newView","this","state","adapt","console","log","navigator","mozGetUserMedia","myRTC","webrtcDetectedBrowser","RTCPeerConnection","mozRTCPeerConnection","RTCSessionDescription","mozRTCSessionDescription","RTCIceCandidate","mozRTCIceCandidate","getUserMedia","bind","attachMediaStream","element","stream","mozSrcObject","play","reattachMediaStream","to","from","MediaStream","prototype","getVideoTracks","getAudioTracks","webkitGetUserMedia","webkitRTCPeerConnection","src","webkitURL","createObjectURL","webkitMediaStream","videoTracks","audioTracks","getLocalStreams","localStreams","getRemoteStreams","remoteStreams","alert","build","cfg","iceServers","url","con","optional","DtlsSrtpKeyAgreement","pc1","dc1","tn1","pc1icedone","sdpConstraints","mandatory","OfferToReceiveAudio","OfferToReceiveVideo","fileSent","file","fileProgress","sendFile","data","size","FileSender","send","onFileSent","onFileProgress","setupDC1","fileReceiver1","FileReceiver","createDataChannel","reliable","activedc","onopen","e","$","modal","remove","onmessage","receive","charCodeAt","JSON","parse","type","writeToChatLog","message","scrollTop","scrollHeight","warn","createLocalOffer","msGetUserMedia","video","audio","getElementById","URL","addStream","createOffer","desc","setLocalDescription","error","onicecandidate","candidate","html","_stringify2","localDescription","handleOnaddstream","autoplay","onaddstream","handleOnconnection","focus","hide","onconnection","onsignalingstatechange","info","oniceconnectionstatechange","onicegatheringstatechange","handleAnswerFromPC2","answerDesc","setRemoteDescription","handleCandidateFromPC2","iceCandidate","addIceCandidate","pc2","dc2","pc2icedone","ondatachannel","fileReceiver2","datachannel","channel","arguments","handleOfferFromPC1","offerDesc","createAnswer","handleCandidateFromPC1","getTimestamp","totalSec","Date","getTime","hours","parseInt","minutes","seconds","result","message_type","innerHTML","moz","RTCMultiSession","options","config","onReadAsDataURL","event","text","target","numberOfPackets","packets","length","packetSize","remaining","sent","slice","last","name","textToTransfer","setTimeout","fileName","reader","FileReader","readAsDataURL","onload","FileSaver","SaveToDisk","onFileReceived","parsedData","received","content","push","join","fileUrl","save","createElement","href","download","evt","MouseEvent","view","bubbles","cancelable","dispatchEvent","revokeObjectURL","_stringify","userAgent","match","device","platform","plugins","iosrtc","registerGlobals","_Home","_Home2","_Footer","_Footer2","Home","MyFooter","_store","_store2","methods","changeCommsMethod","is","changeView","setVideoProperties","containerWidth","width","containerHeight","height","css","run","click","offer","val","answer","change","files","_VideoChat","_VideoChat2","_TextChat","_TextChat2","_WebRTC","VideoChat","TextChat","sharedState","ready","commsMethodIsSelected","selectedMethod","computed","sendMessage","p","__vue_script__","__vue_template__","template"],"mappings":"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","file":"static/js/app.9f19905187d415d20f5c.js","sourcesContent":["webpackJsonp([1,0],[\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _vue = __webpack_require__(27);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tvar _App = __webpack_require__(22);\n\t\n\tvar _App2 = _interopRequireDefault(_App);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction onDeviceReady() {\n\t    if (window.cordova.logger) {\n\t        window.cordova.logger.__onDeviceReady();\n\t    }\n\t}\n\t\n\tdocument.addEventListener('deviceready', onDeviceReady, false);\n\t\n\tnew _vue2.default({\n\t    el: 'body',\n\t    components: { App: _App2.default }\n\t});\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _events = __webpack_require__(28);\n\t\n\tvar store = new _events.EventEmitter();\n\texports.default = store;\n\t\n\t\n\tstore['state'] = {\n\t  'appData': {\n\t    'viewEnabled': 'video-chat'\n\t  }\n\t};\n\t\n\tstore['changeView'] = function (newView) {\n\t  this.state.appData.viewEnabled = newView;\n\t  return;\n\t};\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _stringify = __webpack_require__(8);\n\t\n\tvar _stringify2 = _interopRequireDefault(_stringify);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\twindow.myRTC = {};\n\t\n\twindow.myRTC.RTCPeerConnection = null;\n\twindow.myRTC.RTCSessionDescription = null;\n\twindow.myRTC.RTCIceCandidate = null;\n\twindow.myRTC.getUserMedia = null;\n\twindow.myRTC.attachMediaStream = null;\n\twindow.myRTC.reattachMediaStream = null;\n\twindow.myRTC.webrtcDetectedBrowser = null;\n\twindow.myRTC.cfg = null;\n\twindow.myRTC.con = null;\n\twindow.myRTC.pc1 = null;\n\twindow.myRTC.dc1 = null;\n\twindow.myRTC.tn1 = null;\n\twindow.myRTC.activedc = null;\n\twindow.myRTC.pc1icedone = null;\n\twindow.myRTC.sdpConstraints = null;\n\twindow.myRTC.fileSent = null;\n\twindow.myRTC.fileProgress = null;\n\twindow.myRTC.sendFile = null;\n\twindow.myRTC.setupDC1 = null;\n\twindow.myRTC.createLocalOffer = null;\n\twindow.myRTC.handleOnaddstream = null;\n\twindow.myRTC.handleOnconnection = null;\n\twindow.myRTC.onsignalingstatechange = null;\n\twindow.myRTC.oniceconnectionstatechange = null;\n\twindow.myRTC.onicegatheringstatechange = null;\n\twindow.myRTC.handleAnswerFromPC2 = null;\n\twindow.myRTC.handleCandidateFromPC2 = null;\n\twindow.myRTC.pc2 = null;\n\twindow.myRTC.dc2 = null;\n\twindow.myRTC.pc2icedone = null;\n\twindow.myRTC.handleOfferFromPC1 = null;\n\twindow.myRTC.handleCandidateFromPC1 = null;\n\twindow.myRTC.getTimestamp = null;\n\twindow.myRTC.writeToChatLog = null;\n\twindow.myRTC.RTCMultiSession = null;\n\twindow.myRTC.FileSender = null;\n\twindow.myRTC.FileReceiver = null;\n\twindow.myRTC.FileSaver = null;\n\t\n\tif (navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry|IEMobile)/)) {\n\t  if (window.device) {\n\t    if (window.device.platform === 'iOS') {\n\t      cordova.plugins.iosrtc.registerGlobals();\n\t    }\n\t\n\t    adapt();\n\t    build();\n\t  } else {\n\t    document.addEventListener('deviceready', function () {\n\t      if (window.device.platform === 'iOS') {\n\t        cordova.plugins.iosrtc.registerGlobals();\n\t      }\n\t\n\t      adapt();\n\t      build();\n\t    });\n\t  };\n\t} else {\n\t  adapt();\n\t  build();\n\t}\n\t\n\tfunction adapt() {\n\t  console.log(\"adapting\");\n\t  if (navigator.mozGetUserMedia) {\n\t\n\t    window.myRTC.webrtcDetectedBrowser = 'firefox';\n\t\n\t    window.myRTC.RTCPeerConnection = mozRTCPeerConnection;\n\t\n\t    window.myRTC.RTCSessionDescription = mozRTCSessionDescription;\n\t\n\t    window.myRTC.RTCIceCandidate = mozRTCIceCandidate;\n\t\n\t    window.myRTC.getUserMedia = navigator.mozGetUserMedia.bind(navigator);\n\t\n\t    window.myRTC.attachMediaStream = function (element, stream) {\n\t      element.mozSrcObject = stream;\n\t      element.play();\n\t    };\n\t\n\t    window.myRTC.reattachMediaStream = function (to, from) {\n\t      to.mozSrcObject = from.mozSrcObject;\n\t      to.play();\n\t    };\n\t\n\t    MediaStream.prototype.getVideoTracks = function () {\n\t      return [];\n\t    };\n\t\n\t    MediaStream.prototype.getAudioTracks = function () {\n\t      return [];\n\t    };\n\t  } else if (navigator.webkitGetUserMedia) {\n\t\n\t    window.myRTC.webrtcDetectedBrowser = 'chrome';\n\t\n\t    window.myRTC.RTCPeerConnection = webkitRTCPeerConnection;\n\t\n\t    window.myRTC.getUserMedia = navigator.webkitGetUserMedia.bind(navigator);\n\t\n\t    window.myRTC.attachMediaStream = function (element, stream) {\n\t      element.src = webkitURL.createObjectURL(stream);\n\t    };\n\t\n\t    window.myRTC.reattachMediaStream = function (to, from) {\n\t      to.src = from.src;\n\t    };\n\t\n\t    if (!webkitMediaStream.prototype.getVideoTracks) {\n\t      webkitMediaStream.prototype.getVideoTracks = function () {\n\t        return this.videoTracks;\n\t      };\n\t      webkitMediaStream.prototype.getAudioTracks = function () {\n\t        return this.audioTracks;\n\t      };\n\t    }\n\t\n\t    if (!webkitRTCPeerConnection.prototype.getLocalStreams) {\n\t      webkitRTCPeerConnection.prototype.getLocalStreams = function () {\n\t        return this.localStreams;\n\t      };\n\t      webkitRTCPeerConnection.prototype.getRemoteStreams = function () {\n\t        return this.remoteStreams;\n\t      };\n\t    }\n\t  } else {\n\t    alert(\"This browser doesn't support webRTC and cannot be used to chat\");\n\t  };\n\t};\n\t\n\tfunction build() {\n\t  console.log(\"building\");\n\t  window.myRTC.cfg = { 'iceServers': [{ 'url': 'stun:23.21.150.121' }] };\n\t  window.myRTC.con = { 'optional': [{ 'DtlsSrtpKeyAgreement': true }] };\n\t\n\t  window.myRTC.pc1 = new window.myRTC.RTCPeerConnection(window.myRTC.cfg, window.myRTC.con);\n\t  window.myRTC.dc1 = null;\n\t  window.myRTC.tn1 = null;\n\t\n\t  window.myRTC.pc1icedone = false;\n\t\n\t  window.myRTC.sdpConstraints = {\n\t    optional: [],\n\t    mandatory: {\n\t      OfferToReceiveAudio: true,\n\t      OfferToReceiveVideo: true\n\t    }\n\t  };\n\t\n\t  window.myRTC.fileSent = function (file) {\n\t    console.log(file + ' sent');\n\t  };\n\t\n\t  window.myRTC.fileProgress = function (file) {\n\t    console.log(file + ' progress');\n\t  };\n\t\n\t  window.myRTC.sendFile = function (data) {\n\t    if (data.size) {\n\t      window.myRTC.FileSender.send({\n\t        file: data,\n\t        onFileSent: window.myRTC.fileSent,\n\t        onFileProgress: window.myRTC.fileProgress\n\t      });\n\t    }\n\t  };\n\t\n\t  window.myRTC.setupDC1 = function () {\n\t    try {\n\t      var fileReceiver1 = new window.myRTC.FileReceiver();\n\t      window.myRTC.dc1 = window.myRTC.pc1.createDataChannel('test', { reliable: true });\n\t      window.myRTC.activedc = window.myRTC.dc1;\n\t\n\t      window.myRTC.dc1.onopen = function (e) {\n\t        console.log('data channel connect');\n\t        $('#waitForConnection').modal('hide');\n\t        $('#waitForConnection').remove();\n\t      };\n\t      window.myRTC.dc1.onmessage = function (e) {\n\t        if (e.data.size) {\n\t          fileReceiver1.receive(e.data, {});\n\t        } else {\n\t          if (e.data.charCodeAt(0) == 2) {\n\t            return;\n\t          }\n\t\n\t          var data = JSON.parse(e.data);\n\t          if (data.type === 'file') {\n\t            fileReceiver1.receive(e.data, {});\n\t          } else {\n\t            window.myRTC.writeToChatLog(data.message, 'text-info');\n\t\n\t            $('#chatlog').scrollTop($('#chatlog')[0].scrollHeight);\n\t          }\n\t        }\n\t      };\n\t    } catch (e) {\n\t      console.warn('No data channel (pc1)', e);\n\t    }\n\t  };\n\t\n\t  window.myRTC.createLocalOffer = function () {\n\t    console.log('video1');\n\t    navigator.getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia;\n\t    navigator.getUserMedia({ video: true, audio: true }, function (stream) {\n\t      var video = document.getElementById('localVideo');\n\t      video.src = window.URL.createObjectURL(stream);\n\t      video.play();\n\t      window.myRTC.pc1.addStream(stream);\n\t      console.log(stream);\n\t      console.log('adding stream to pc1');\n\t      window.myRTC.setupDC1();\n\t      window.myRTC.pc1.createOffer(function (desc) {\n\t        window.myRTC.pc1.setLocalDescription(desc, function () {}, function () {});\n\t        console.log('created local offer', desc);\n\t      }, function () {\n\t        console.warn(\"Couldn't create offer\");\n\t      }, window.myRTC.sdpConstraints);\n\t    }, function (error) {\n\t      console.log('Error adding stream to pc1: ' + error);\n\t    });\n\t  };\n\t\n\t  window.myRTC.pc1.onicecandidate = function (e) {\n\t    console.log('ICE candidate (pc1)', e);\n\t    if (e.candidate == null) {\n\t      $('#localOffer').html((0, _stringify2.default)(window.myRTC.pc1.localDescription));\n\t    }\n\t  };\n\t\n\t  window.myRTC.handleOnaddstream = function (e) {\n\t    console.log('Got remote stream', e.stream);\n\t    var el = document.getElementById('remoteVideo');\n\t    el.autoplay = true;\n\t    window.myRTC.attachMediaStream(el, e.stream);\n\t  };\n\t\n\t  window.myRTC.pc1.onaddstream = window.myRTC.handleOnaddstream;\n\t\n\t  window.myRTC.handleOnconnection = function () {\n\t    console.log('Datachannel connected');\n\t    window.myRTC.writeToChatLog('Datachannel connected', 'text-success');\n\t    $('#waitForConnection').modal('hide');\n\t\n\t    $('#waitForConnection').remove();\n\t    $('#showLocalAnswer').modal('hide');\n\t    $('#messageTextBox').focus();\n\t    $('.modal-backdrop').hide();\n\t  };\n\t\n\t  window.myRTC.pc1.onconnection = window.myRTC.handleOnconnection;\n\t\n\t  window.myRTC.onsignalingstatechange = function (state) {\n\t    console.info('signaling state change:', state);\n\t  };\n\t\n\t  window.myRTC.oniceconnectionstatechange = function (state) {\n\t    console.info('ice connection state change:', state);\n\t  };\n\t\n\t  window.myRTC.onicegatheringstatechange = function (state) {\n\t    console.info('ice gathering state change:', state);\n\t  };\n\t\n\t  window.myRTC.pc1.onsignalingstatechange = window.myRTC.onsignalingstatechange;\n\t  window.myRTC.pc1.oniceconnectionstatechange = window.myRTC.oniceconnectionstatechange;\n\t  window.myRTC.pc1.onicegatheringstatechange = window.myRTC.onicegatheringstatechange;\n\t\n\t  window.myRTC.handleAnswerFromPC2 = function (answerDesc) {\n\t    console.log('Received remote answer: ', answerDesc);\n\t    window.myRTC.writeToChatLog('Received remote answer', 'text-success');\n\t    window.myRTC.pc1.setRemoteDescription(answerDesc);\n\t  };\n\t\n\t  window.myRTC.handleCandidateFromPC2 = function (iceCandidate) {\n\t    window.myRTC.pc1.addIceCandidate(iceCandidate);\n\t  };\n\t\n\t  window.myRTC.pc2 = new window.myRTC.RTCPeerConnection(window.myRTC.cfg, window.myRTC.con);\n\t  window.myRTC.dc2 = null;\n\t\n\t  window.myRTC.pc2icedone = false;\n\t\n\t  window.myRTC.pc2.ondatachannel = function (e) {\n\t    var fileReceiver2 = new window.myRTC.FileReceiver();\n\t    var datachannel = e.channel || e;\n\t    console.log('Received datachannel (pc2)', arguments);\n\t    window.myRTC.dc2 = datachannel;\n\t    window.myRTC.activedc = window.myRTC.dc2;\n\t    window.myRTC.dc2.onopen = function (e) {\n\t      console.log('data channel connect');\n\t      $('#waitForConnection').modal('hide');\n\t      $('#waitForConnection').remove();\n\t    };\n\t    window.myRTC.dc2.onmessage = function (e) {\n\t      console.log('Got message (pc2)', e.data);\n\t      if (e.data.size) {\n\t        fileReceiver2.receive(e.data, {});\n\t      } else {\n\t        var data = JSON.parse(e.data);\n\t        if (data.type === 'file') {\n\t          fileReceiver2.receive(e.data, {});\n\t        } else {\n\t          window.myRTC.writeToChatLog(data.message, 'text-info');\n\t\n\t          $('#chatlog').scrollTop($('#chatlog')[0].scrollHeight);\n\t        }\n\t      }\n\t    };\n\t  };\n\t\n\t  window.myRTC.handleOfferFromPC1 = function (offerDesc) {\n\t    window.myRTC.pc2.setRemoteDescription(offerDesc);\n\t    window.myRTC.pc2.createAnswer(function (answerDesc) {\n\t      window.myRTC.writeToChatLog('Created local answer', 'text-success');\n\t      console.log('Created local answer: ', answerDesc);\n\t      window.myRTC.pc2.setLocalDescription(answerDesc);\n\t    }, function () {\n\t      console.warn(\"Couldn't create offer\");\n\t    }, window.myRTC.sdpConstraints);\n\t  };\n\t\n\t  window.myRTC.pc2.onicecandidate = function (e) {\n\t    console.log('ICE candidate (pc2)', e);\n\t    if (e.candidate == null) {\n\t      $('#localAnswer').html((0, _stringify2.default)(window.myRTC.pc2.localDescription));\n\t    }\n\t  };\n\t\n\t  window.myRTC.pc2.onsignalingstatechange = window.myRTC.onsignalingstatechange;\n\t  window.myRTC.pc2.oniceconnectionstatechange = window.myRTC.oniceconnectionstatechange;\n\t  window.myRTC.pc2.onicegatheringstatechange = window.myRTC.onicegatheringstatechange;\n\t\n\t  window.myRTC.handleCandidateFromPC1 = function (iceCandidate) {\n\t    window.myRTC.pc2.addIceCandidate(iceCandidate);\n\t  };\n\t\n\t  window.myRTC.pc2.onaddstream = window.myRTC.handleOnaddstream;\n\t  window.myRTC.pc2.onconnection = window.myRTC.handleOnconnection;\n\t\n\t  window.myRTC.getTimestamp = function () {\n\t    var totalSec = new Date().getTime() / 1000;\n\t    var hours = parseInt(totalSec / 3600) % 24;\n\t    var minutes = parseInt(totalSec / 60) % 60;\n\t    var seconds = parseInt(totalSec % 60);\n\t\n\t    var result = (hours < 10 ? '0' + hours : hours) + ':' + (minutes < 10 ? '0' + minutes : minutes) + ':' + (seconds < 10 ? '0' + seconds : seconds);\n\t\n\t    return result;\n\t  };\n\t\n\t  window.myRTC.writeToChatLog = function (message, message_type) {\n\t    document.getElementById('chatlog').innerHTML += '<p class=\"' + message_type + '\">' + '[' + window.myRTC.getTimestamp() + '] ' + message + '</p>';\n\t  };\n\t\n\t  window.moz = !!navigator.mozGetUserMedia;\n\t\n\t  window.myRTC.RTCMultiSession = function (options) {\n\t    return {\n\t      send: function send(message) {\n\t        if (moz && message.file) var data = message.file;else var data = (0, _stringify2.default)(message);\n\t\n\t        window.myRTC.activedc.send(data);\n\t      }\n\t    };\n\t  };\n\t\n\t  window.myRTC.FileSender = {\n\t    send: function send(config) {\n\t      var channel = config.channel || new window.myRTC.RTCMultiSession();\n\t      var file = config.file;\n\t\n\t      if (moz) {\n\t        channel.send({\n\t          fileName: file.name,\n\t          type: 'file'\n\t        });\n\t\n\t        channel.send({\n\t          file: file\n\t        });\n\t\n\t        if (config.onFileSent) config.onFileSent(file);\n\t      }\n\t\n\t      if (!moz) {\n\t        var reader = new window.FileReader();\n\t        reader.readAsDataURL(file);\n\t        reader.onload = onReadAsDataURL;\n\t      }\n\t\n\t      var packetSize = 1000,\n\t          textToTransfer = '',\n\t          numberOfPackets = 0,\n\t          packets = 0;\n\t\n\t      function onReadAsDataURL(event, text) {\n\t        var data = {\n\t          type: 'file'\n\t        };\n\t\n\t        if (event) {\n\t          text = event.target.result;\n\t          numberOfPackets = packets = data.packets = parseInt(text.length / packetSize);\n\t        }\n\t\n\t        if (config.onFileProgress) config.onFileProgress({\n\t          remaining: packets--,\n\t          length: numberOfPackets,\n\t          sent: numberOfPackets - packets\n\t        });\n\t\n\t        if (text.length > packetSize) {\n\t          data.message = text.slice(0, packetSize);\n\t        } else {\n\t          data.message = text;\n\t          data.last = true;\n\t          data.name = file.name;\n\t\n\t          if (config.onFileSent) config.onFileSent(file);\n\t        }\n\t\n\t        channel.send(data);\n\t\n\t        textToTransfer = text.slice(data.message.length);\n\t\n\t        if (textToTransfer.length) setTimeout(function () {\n\t          onReadAsDataURL(null, textToTransfer);\n\t        }, 500);\n\t      }\n\t    }\n\t  };\n\t\n\t  window.myRTC.FileReceiver = function () {\n\t    var content = [],\n\t        fileName = '',\n\t        packets = 0,\n\t        numberOfPackets = 0;\n\t\n\t    function receive(data, config) {\n\t      if (moz) {\n\t        if (!data.size) {\n\t          var parsedData = JSON.parse(data);\n\t          if (parsedData.fileName) {\n\t            fileName = parsedData.fileName;\n\t          }\n\t        } else {\n\t          var reader = new window.FileReader();\n\t          reader.readAsDataURL(data);\n\t          reader.onload = function (event) {\n\t            window.myRTC.FileSaver.SaveToDisk(event.target.result, fileName);\n\t            if (config.onFileReceived) config.onFileReceived(fileName);\n\t          };\n\t        }\n\t      }\n\t\n\t      if (!moz) {\n\t        if (data.packets) numberOfPackets = packets = parseInt(data.packets);\n\t\n\t        if (config.onFileProgress) config.onFileProgress({\n\t          remaining: packets--,\n\t          length: numberOfPackets,\n\t          received: numberOfPackets - packets\n\t        });\n\t\n\t        content.push(data.message);\n\t\n\t        if (data.last) {\n\t          window.myRTC.FileSaver.SaveToDisk(content.join(''), data.name);\n\t          if (config.onFileReceived) config.onFileReceived(data.name);\n\t          content = [];\n\t        }\n\t      }\n\t    }\n\t\n\t    return {\n\t      receive: receive\n\t    };\n\t  };\n\t\n\t  window.myRTC.FileSaver = {\n\t    SaveToDisk: function SaveToDisk(fileUrl, fileName) {\n\t      var save = document.createElement('a');\n\t      save.href = fileUrl;\n\t      save.target = '_blank';\n\t      save.download = fileName || fileUrl;\n\t\n\t      var evt = new MouseEvent('click', {\n\t        view: window,\n\t        bubbles: true,\n\t        cancelable: true\n\t      });\n\t\n\t      save.dispatchEvent(evt);(window.URL || window.webkitURL).revokeObjectURL(save.href);\n\t    }\n\t  };\n\t}\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _Home = __webpack_require__(24);\n\t\n\tvar _Home2 = _interopRequireDefault(_Home);\n\t\n\tvar _Footer = __webpack_require__(23);\n\t\n\tvar _Footer2 = _interopRequireDefault(_Footer);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  components: {\n\t    Home: _Home2.default,\n\t    MyFooter: _Footer2.default\n\t  }\n\t};\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _store = __webpack_require__(1);\n\t\n\tvar _store2 = _interopRequireDefault(_store);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  methods: {\n\t    changeCommsMethod: function changeCommsMethod() {\n\t      var newView = $('#chatTypeInput').is(':checked') ? 'video-chat' : 'text-chat';\n\t      _store2.default.changeView(newView);\n\t    }\n\t  }\n\t};\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _store = __webpack_require__(1);\n\t\n\tvar _store2 = _interopRequireDefault(_store);\n\t\n\tvar _VideoChat = __webpack_require__(26);\n\t\n\tvar _VideoChat2 = _interopRequireDefault(_VideoChat);\n\t\n\tvar _TextChat = __webpack_require__(25);\n\t\n\tvar _TextChat2 = _interopRequireDefault(_TextChat);\n\t\n\tvar _WebRTC = __webpack_require__(2);\n\t\n\tvar _WebRTC2 = _interopRequireDefault(_WebRTC);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction setVideoProperties() {\n\t  var containerWidth = $(\"#videoChatWrapper\").width();\n\t  var containerHeight = $(\"#videoChatWrapper\").height();\n\t\n\t  if (containerHeight >= 2 * (containerWidth * 3 / 4)) {\n\t    $(\"video\").css({\n\t      \"width\": containerWidth,\n\t      \"height\": 3 / 4 * containerWidth\n\t    });\n\t  } else {\n\t    $(\"video\").css({\n\t      \"width\": containerHeight / 2 * 4 / 3,\n\t      \"height\": containerHeight / 2\n\t    });\n\t  };\n\t}\n\t\n\tfunction run() {\n\t  console.log(\"running\");\n\t  $('#showLocalOffer').modal('hide');\n\t  $('#getRemoteAnswer').modal('hide');\n\t  $('#waitForConnection').modal('hide');\n\t  $('#createOrJoin').modal('show');\n\t\n\t  $('#createBtn').click(function () {\n\t    $('#showLocalOffer').modal('show');\n\t    window.myRTC.createLocalOffer();\n\t  });\n\t\n\t  $('#joinBtn').click(function () {\n\t    navigator.getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia;\n\t    navigator.getUserMedia({ video: true, audio: true }, function (stream) {\n\t      var video = document.getElementById('localVideo');\n\t      video.src = window.URL.createObjectURL(stream);\n\t      video.play();\n\t      window.myRTC.pc2.addStream(stream);\n\t    }, function (error) {\n\t      console.log('Error adding stream to pc2: ' + error);\n\t    });\n\t    $('#getRemoteOffer').modal('show');\n\t  });\n\t\n\t  $('#offerSentBtn').click(function () {\n\t    $('#getRemoteAnswer').modal('show');\n\t  });\n\t\n\t  $('#offerRecdBtn').click(function () {\n\t    var offer = $('#remoteOffer').val();\n\t    var offerDesc = new window.myRTC.RTCSessionDescription(JSON.parse(offer));\n\t    console.log('Received remote offer', offerDesc);\n\t    window.myRTC.writeToChatLog('Received remote offer', 'text-success');\n\t    window.myRTC.handleOfferFromPC1(offerDesc);\n\t    $('#showLocalAnswer').modal('show');\n\t  });\n\t\n\t  $('#answerSentBtn').click(function () {\n\t    $('#waitForConnection').modal('show');\n\t  });\n\t\n\t  $('#answerRecdBtn').click(function () {\n\t    var answer = $('#remoteAnswer').val();\n\t    var answerDesc = new window.myRTC.RTCSessionDescription(JSON.parse(answer));\n\t    window.myRTC.handleAnswerFromPC2(answerDesc);\n\t    $('#waitForConnection').modal('show');\n\t  });\n\t\n\t  $('#fileBtn').change(function () {\n\t    var file = this.files[0];\n\t    console.log(file);\n\t\n\t    window.myRTC.sendFile(file);\n\t  });\n\t  console.log(\"done running\");\n\t}\n\t\n\texports.default = {\n\t  components: {\n\t    VideoChat: _VideoChat2.default,\n\t    TextChat: _TextChat2.default\n\t  },\n\t  data: function data() {\n\t    return {\n\t      'sharedState': _store2.default.state.appData\n\t    };\n\t  },\n\t  ready: function ready() {\n\t    console.log(\"ready\");\n\t    setVideoProperties();\n\t\n\t    if (navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry|IEMobile)/)) {\n\t      if (window.device) {\n\t        run();\n\t      } else {\n\t        document.addEventListener('deviceready', function () {\n\t          run();\n\t        });\n\t      };\n\t    } else {\n\t      run();\n\t    };\n\t  },\n\t  methods: {\n\t    commsMethodIsSelected: function commsMethodIsSelected(selectedMethod) {\n\t      return this.sharedState.viewEnabled === selectedMethod;\n\t    }\n\t  },\n\t  computed: {}\n\t};\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = {\n\t  methods: {\n\t    sendMessage: function sendMessage() {\n\t      console.log(window.myRTC.RTCMultiSession);\n\t      if ($('#messageTextBox').val()) {\n\t        var channel = new window.myRTC.RTCMultiSession();\n\t        window.myRTC.writeToChatLog($('#messageTextBox').val(), 'text-success');\n\t        channel.send({ message: $('#messageTextBox').val() });\n\t        $('#messageTextBox').val('');\n\t\n\t        $('#chatlog').scrollTop($('#chatlog')[0].scrollHeight);\n\t      }\n\t\n\t      return false;\n\t    }\n\t  }\n\t};\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = {};\n\n/***/ },\n/* 8 */,\n/* 9 */,\n/* 10 */,\n/* 11 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 12 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 13 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 14 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 15 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 16 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__.p + \"static/img/spinner.9c1bc71.gif\";\n\n/***/ },\n/* 17 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \" <div id=app> <home></home> <my-footer></my-footer> </div> \";\n\n/***/ },\n/* 18 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \" <div id=chatWrapper _v-18315b3e=\\\"\\\"> <fieldset class=well _v-18315b3e=\\\"\\\"> <div id=chatlog class=text-info style=\\\"height:350px; overflow:auto\\\" _v-18315b3e=\\\"\\\"> </div> </fieldset> <form class=form-inline v-on:submit.prevent=sendMessage action=\\\"\\\" _v-18315b3e=\\\"\\\"> <textarea id=messageTextBox type=text placeholder=\\\"Type your message here\\\" _v-18315b3e=\\\"\\\"></textarea> <button id=sendMessageBtn type=submit class=\\\"btn btn-primary\\\" _v-18315b3e=\\\"\\\">Send message</button> </form> </div> \";\n\n/***/ },\n/* 19 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \" <div id=videoChatWrapper _v-75281aac=\\\"\\\"> <video id=localVideo muted=\\\"\\\" _v-75281aac=\\\"\\\"></video> <video id=remoteVideo muted=\\\"\\\" _v-75281aac=\\\"\\\"></video> </div> \";\n\n/***/ },\n/* 20 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \" <footer class=footer _v-a3de7818=\\\"\\\"> <div class=container _v-a3de7818=\\\"\\\"> <form id=chatTypeSelect _v-a3de7818=\\\"\\\"> <fieldset _v-a3de7818=\\\"\\\"> <label _v-a3de7818=\\\"\\\"> <input id=chatTypeInput type=checkbox v-on:change=changeCommsMethod checked=\\\"\\\" _v-a3de7818=\\\"\\\"> <div _v-a3de7818=\\\"\\\"> <span class=yes _v-a3de7818=\\\"\\\"><i class=\\\"fa fa-video-camera\\\" aria-hidden=true _v-a3de7818=\\\"\\\"></i></span> <span class=no _v-a3de7818=\\\"\\\"><i class=\\\"fa fa-comments\\\" aria-hidden=true _v-a3de7818=\\\"\\\"></i></span> </div> <a class=slider _v-a3de7818=\\\"\\\"></a> </label> </fieldset> </form> </div> </footer> \";\n\n/***/ },\n/* 21 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = \" <div id=mainContainer class=container _v-df99c510=\\\"\\\"> <video-chat v-show=\\\"commsMethodIsSelected('video-chat')\\\" :is=view transition=fade transition-mode=out-in _v-df99c510=\\\"\\\"></video-chat> <text-chat v-show=\\\"commsMethodIsSelected('text-chat')\\\" :is=view transition=fade transition-mode=out-in _v-df99c510=\\\"\\\"></text-chat> <div class=\\\"modal fade\\\" id=showLocalOffer data-backdrop=static tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true hidden=\\\"\\\" _v-df99c510=\\\"\\\"> <div class=modal-dialog role=document _v-df99c510=\\\"\\\"> <div class=modal-content _v-df99c510=\\\"\\\"> <div class=modal-header _v-df99c510=\\\"\\\"> <h3 id=myModalLabel _v-df99c510=\\\"\\\">Send your local offer to someone else</h3> </div> <div class=modal-body _v-df99c510=\\\"\\\"> Here's your \\\"offer\\\" -- it tells someone else how to connect to you. Send the whole thing to them, for example in an instant message or e-mail. <br _v-df99c510=\\\"\\\"> <textarea class=input-large id=localOffer name=localOffer rows=10 cols=100 _v-df99c510=\\\"\\\"></textarea> </div> <div class=modal-footer _v-df99c510=\\\"\\\"> <button class=\\\"btn btn-primary\\\" id=offerSentBtn data-dismiss=modal aria-hidden=true _v-df99c510=\\\"\\\">Okay, I sent it.</button> </div> </div> </div> </div> <div class=\\\"modal fade\\\" id=showLocalAnswer data-backdrop=static tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true hidden=\\\"\\\" _v-df99c510=\\\"\\\"> <div class=modal-dialog role=document _v-df99c510=\\\"\\\"> <div class=modal-content _v-df99c510=\\\"\\\"> <div class=modal-header _v-df99c510=\\\"\\\"> <h3 id=myModalLabel _v-df99c510=\\\"\\\">Send your local answer to someone else</h3> </div> <div class=modal-body _v-df99c510=\\\"\\\"> Here's your \\\"answer\\\" -- it tells someone else how to connect to you. Send the whole thing to them, for example in an instant message or e-mail. <br _v-df99c510=\\\"\\\"> <textarea class=input-large id=localAnswer name=localAnswer rows=10 cols=100 _v-df99c510=\\\"\\\"></textarea> </div> <div class=modal-footer _v-df99c510=\\\"\\\"> <button class=\\\"btn btn-primary\\\" id=answerSentBtn data-dismiss=modal aria-hidden=true _v-df99c510=\\\"\\\">Okay, I sent it.</button> </div> </div> </div> </div> <div class=\\\"modal fad\\\" id=getRemoteOffer data-backdrop=static tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true hidden=\\\"\\\" _v-df99c510=\\\"\\\"> <div class=modal-dialog role=document _v-df99c510=\\\"\\\"> <div class=modal-content _v-df99c510=\\\"\\\"> <div class=modal-header _v-df99c510=\\\"\\\"> <h3 id=myModalLabel _v-df99c510=\\\"\\\">Paste the \\\"offer\\\" you received</h3> </div> <div class=modal-body _v-df99c510=\\\"\\\"> The person who created the room will send you an \\\"offer\\\" string -- paste it here. <br _v-df99c510=\\\"\\\"> <textarea class=input-large id=remoteOffer name=remoteOffer rows=10 cols=100 _v-df99c510=\\\"\\\"></textarea> </div> <div class=modal-footer _v-df99c510=\\\"\\\"> <button class=\\\"btn btn-primary\\\" id=offerRecdBtn data-dismiss=modal aria-hidden=true _v-df99c510=\\\"\\\">Okay, I pasted it.</button> </div> </div> </div> </div> <div class=\\\"modal fade\\\" id=getRemoteAnswer data-backdrop=static tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true hidden=\\\"\\\" _v-df99c510=\\\"\\\"> <div class=modal-dialog role=document _v-df99c510=\\\"\\\"> <div class=modal-content _v-df99c510=\\\"\\\"> <div class=modal-header _v-df99c510=\\\"\\\"> <h3 id=myModalLabel _v-df99c510=\\\"\\\">Paste the \\\"answer\\\" you received</h3> </div> <div class=modal-body _v-df99c510=\\\"\\\"> Now paste in the \\\"answer\\\" that was sent back to you. <br _v-df99c510=\\\"\\\"> <textarea class=input-large id=remoteAnswer name=remoteAnswer rows=10 cols=100 _v-df99c510=\\\"\\\"></textarea> </div> <div class=modal-footer _v-df99c510=\\\"\\\"> <button class=\\\"btn btn-primary\\\" id=answerRecdBtn data-dismiss=modal aria-hidden=true _v-df99c510=\\\"\\\">Okay, I pasted it.</button> </div> </div> </div> </div> <div class=\\\"modal fade\\\" id=waitForConnection data-backdrop=static tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true hidden=\\\"\\\" _v-df99c510=\\\"\\\"> <div class=modal-dialog role=document _v-df99c510=\\\"\\\"> <div class=modal-content _v-df99c510=\\\"\\\"> <div class=modal-header _v-df99c510=\\\"\\\"> <h3 id=myModalLabel _v-df99c510=\\\"\\\">Waiting for connection</h3> </div> <div class=modal-body _v-df99c510=\\\"\\\"> This dialog will disappear when a connection is made. </div> <div class=spinner align=center _v-df99c510=\\\"\\\"> <img src=\" + __webpack_require__(16) + \" _v-df99c510=\\\"\\\"> </div> </div> </div> </div> <div class=\\\"modal fade\\\" id=createOrJoin data-backdrop=static tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true _v-df99c510=\\\"\\\"> <div class=modal-dialog role=document _v-df99c510=\\\"\\\"> <div class=modal-content _v-df99c510=\\\"\\\"> <div class=modal-header _v-df99c510=\\\"\\\"> <h3 id=myModalLabel _v-df99c510=\\\"\\\">Create or join a room?</h3> </div> <div class=modal-footer _v-df99c510=\\\"\\\"> <button class=btn id=joinBtn data-dismiss=modal aria-hidden=true _v-df99c510=\\\"\\\">Join</button> <button class=\\\"btn btn-primary\\\" id=createBtn data-dismiss=modal aria-hidden=true _v-df99c510=\\\"\\\">Create</button> </div> </div> </div> </div> </div> \";\n\n/***/ },\n/* 22 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\t__webpack_require__(11)\n\t__vue_script__ = __webpack_require__(3)\n\t__vue_template__ = __webpack_require__(17)\n\tmodule.exports = __vue_script__ || {}\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\tif (__vue_template__) {\n\t(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n\t}\n\n\n/***/ },\n/* 23 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\t__webpack_require__(14)\n\t__vue_script__ = __webpack_require__(4)\n\t__vue_template__ = __webpack_require__(20)\n\tmodule.exports = __vue_script__ || {}\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\tif (__vue_template__) {\n\t(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n\t}\n\n\n/***/ },\n/* 24 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\t__webpack_require__(15)\n\t__vue_script__ = __webpack_require__(5)\n\t__vue_template__ = __webpack_require__(21)\n\tmodule.exports = __vue_script__ || {}\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\tif (__vue_template__) {\n\t(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n\t}\n\n\n/***/ },\n/* 25 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\t__webpack_require__(12)\n\t__vue_script__ = __webpack_require__(6)\n\t__vue_template__ = __webpack_require__(18)\n\tmodule.exports = __vue_script__ || {}\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\tif (__vue_template__) {\n\t(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n\t}\n\n\n/***/ },\n/* 26 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\t__webpack_require__(13)\n\t__vue_script__ = __webpack_require__(7)\n\t__vue_template__ = __webpack_require__(19)\n\tmodule.exports = __vue_script__ || {}\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\tif (__vue_template__) {\n\t(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n\t}\n\n\n/***/ }\n]);\n\n\n/** WEBPACK FOOTER **\n ** static/js/app.9f19905187d415d20f5c.js\n **/","// just double check that console logs are available in debugger\nfunction onDeviceReady() {\n    if (window.cordova.logger) {\n        window.cordova.logger.__onDeviceReady();\n    }\n}\n\ndocument.addEventListener('deviceready', onDeviceReady, false);\n\nimport Vue from 'vue'\nimport App from './App'\n\n/* eslint-disable no-new */\nnew Vue({\n  el: 'body',\n  components: { App }\n})\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/main.js\n **/","import { EventEmitter } from 'events'\n\nconst store = new EventEmitter()\nexport default store\n\nstore['state'] = {\n  'appData': {\n    'viewEnabled': 'video-chat'\n  }\n};\n\nstore['changeView'] = function(newView) {\n  this.state.appData.viewEnabled = newView;\n  return;\n};\n\n\n/** WEBPACK FOOTER **\n ** ./src/store/store.js\n **/","window.myRTC                             = {};\n\nwindow.myRTC.RTCPeerConnection           = null;\nwindow.myRTC.RTCSessionDescription       = null;\nwindow.myRTC.RTCIceCandidate             = null;\nwindow.myRTC.getUserMedia                = null;\nwindow.myRTC.attachMediaStream           = null;\nwindow.myRTC.reattachMediaStream         = null;\nwindow.myRTC.webrtcDetectedBrowser       = null;\nwindow.myRTC.cfg                         = null;\nwindow.myRTC.con                         = null;\nwindow.myRTC.pc1                         = null;\nwindow.myRTC.dc1                         = null;\nwindow.myRTC.tn1                         = null;\nwindow.myRTC.activedc                    = null;\nwindow.myRTC.pc1icedone                  = null;\nwindow.myRTC.sdpConstraints              = null;\nwindow.myRTC.fileSent                    = null;\nwindow.myRTC.fileProgress                = null;\nwindow.myRTC.sendFile                    = null;\nwindow.myRTC.setupDC1                    = null;\nwindow.myRTC.createLocalOffer            = null;\nwindow.myRTC.handleOnaddstream           = null;\nwindow.myRTC.handleOnconnection          = null;\nwindow.myRTC.onsignalingstatechange      = null;\nwindow.myRTC.oniceconnectionstatechange  = null;\nwindow.myRTC.onicegatheringstatechange   = null;\nwindow.myRTC.handleAnswerFromPC2         = null;\nwindow.myRTC.handleCandidateFromPC2      = null;\nwindow.myRTC.pc2                         = null;\nwindow.myRTC.dc2                         = null;\nwindow.myRTC.pc2icedone                  = null;\nwindow.myRTC.handleOfferFromPC1          = null;\nwindow.myRTC.handleCandidateFromPC1      = null;\nwindow.myRTC.getTimestamp                = null;\nwindow.myRTC.writeToChatLog              = null;\nwindow.myRTC.RTCMultiSession             = null;\nwindow.myRTC.FileSender                  = null;\nwindow.myRTC.FileReceiver                = null;\nwindow.myRTC.FileSaver                   = null;\n\nif ( navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry|IEMobile)/) ) {\n  // cordova!\n  if ( window.device ) {\n    // device ready!\n    if (window.device.platform === 'iOS') {\n      // @adam-hanna: is this async or sync?!\n      cordova.plugins.iosrtc.registerGlobals();\n    }\n\n    adapt();\n    build();\n  } else {\n    // device not ready!\n    document.addEventListener('deviceready', function () {\n      // Just for iOS devices.\n      if (window.device.platform === 'iOS') {\n        // @adam-hanna: is this async or sync?!\n        cordova.plugins.iosrtc.registerGlobals();\n      }\n\n      adapt();\n      build();\n    });\n  };\n  \n} else {\n  // not cordova\n  adapt();\n  build();\n}\n\nfunction adapt() {console.log(\"adapting\");\n  if (navigator.mozGetUserMedia) {\n    // console.log('This appears to be Firefox')\n\n    window.myRTC.webrtcDetectedBrowser = 'firefox'\n\n    // The RTCPeerConnection object.\n    window.myRTC.RTCPeerConnection = mozRTCPeerConnection\n\n    // The RTCSessionDescription object.\n    window.myRTC.RTCSessionDescription = mozRTCSessionDescription\n\n    // The RTCIceCandidate object.\n    window.myRTC.RTCIceCandidate = mozRTCIceCandidate\n\n    // Get UserMedia (only difference is the prefix).\n    // Code from Adam Barth.\n    window.myRTC.getUserMedia = navigator.mozGetUserMedia.bind(navigator)\n\n    // Attach a media stream to an element.\n    window.myRTC.attachMediaStream = function (element, stream) {\n      // console.log('Attaching media stream')\n      element.mozSrcObject = stream\n      element.play()\n    }\n\n    window.myRTC.reattachMediaStream = function (to, from) {\n      // console.log('Reattaching media stream')\n      to.mozSrcObject = from.mozSrcObject\n      to.play()\n    }\n\n    // Fake get{Video,Audio}Tracks\n    MediaStream.prototype.getVideoTracks = function () {\n      return []\n    }\n\n    MediaStream.prototype.getAudioTracks = function () {\n      return []\n    }\n  } else if (navigator.webkitGetUserMedia) {\n    // console.log('This appears to be Chrome or iOS using a shim')\n\n    window.myRTC.webrtcDetectedBrowser = 'chrome'\n\n    // The RTCPeerConnection object.\n    window.myRTC.RTCPeerConnection = webkitRTCPeerConnection\n\n    // Get UserMedia (only difference is the prefix).\n    // Code from Adam Barth.\n    window.myRTC.getUserMedia = navigator.webkitGetUserMedia.bind(navigator)\n\n    // Attach a media stream to an element.\n    window.myRTC.attachMediaStream = function (element, stream) {\n      element.src = webkitURL.createObjectURL(stream)\n    }\n\n    window.myRTC.reattachMediaStream = function (to, from) {\n      to.src = from.src\n    }\n\n    // The representation of tracks in a stream is changed in M26.\n    // Unify them for earlier Chrome versions in the coexisting period.\n    if (!webkitMediaStream.prototype.getVideoTracks) {\n      webkitMediaStream.prototype.getVideoTracks = function () {\n        return this.videoTracks\n      }\n      webkitMediaStream.prototype.getAudioTracks = function () {\n        return this.audioTracks\n      }\n    }\n\n    // New syntax of getXXXStreams method in M26.\n    if (!webkitRTCPeerConnection.prototype.getLocalStreams) {\n      webkitRTCPeerConnection.prototype.getLocalStreams = function () {\n        return this.localStreams\n      }\n      webkitRTCPeerConnection.prototype.getRemoteStreams = function () {\n        return this.remoteStreams\n      }\n    }\n  } else {\n    alert(\"This browser doesn't support webRTC and cannot be used to chat\");\n  };\n};\n\nfunction build() {console.log(\"building\");\n  window.myRTC.cfg = {'iceServers': [{'url': 'stun:23.21.150.121'}]}\n  window.myRTC.con = { 'optional': [{'DtlsSrtpKeyAgreement': true}] }\n\n  /* THIS IS ALICE, THE CALLER/SENDER */\n  window.myRTC.pc1 = new window.myRTC.RTCPeerConnection(window.myRTC.cfg, window.myRTC.con)\n  window.myRTC.dc1 = null\n  window.myRTC.tn1 = null\n\n  // Since the same JS file contains code for both sides of the connection,\n  // activedc tracks which of the two possible datachannel variables we're using.\n  // var activedc\n\n  window.myRTC.pc1icedone = false\n\n  window.myRTC.sdpConstraints = {\n    optional: [],\n    mandatory: {\n      OfferToReceiveAudio: true,\n      OfferToReceiveVideo: true\n    }\n  }\n\n  window.myRTC.fileSent = function(file) {\n    console.log(file + ' sent')\n  }\n\n  window.myRTC.fileProgress = function(file) {\n    console.log(file + ' progress')\n  }\n\n  window.myRTC.sendFile = function(data) {\n    if (data.size) {\n      window.myRTC.FileSender.send({\n        file: data,\n        onFileSent: window.myRTC.fileSent,\n        onFileProgress: window.myRTC.fileProgress,\n      })\n    }\n  }\n\n  window.myRTC.setupDC1 = function() {\n    try {\n      var fileReceiver1 = new window.myRTC.FileReceiver()\n      window.myRTC.dc1 = window.myRTC.pc1.createDataChannel('test', {reliable: true})\n      window.myRTC.activedc = window.myRTC.dc1\n      // console.log('Created datachannel (window.myRTC.pc1)')\n      window.myRTC.dc1.onopen = function (e) {\n        console.log('data channel connect')\n        $('#waitForConnection').modal('hide')\n        $('#waitForConnection').remove()\n      }\n      window.myRTC.dc1.onmessage = function (e) {\n        // console.log('Got message (window.myRTC.pc1)', e.data)\n        if (e.data.size) {\n          fileReceiver1.receive(e.data, {})\n        } else {\n          if (e.data.charCodeAt(0) == 2) {\n            // The first message we get from Firefox (but not Chrome)\n            // is literal ASCII 2 and I don't understand why -- if we\n            // leave it in, JSON.parse() will barf.\n            return\n          }\n          // console.log(e)\n          var data = JSON.parse(e.data)\n          if (data.type === 'file') {\n            fileReceiver1.receive(e.data, {})\n          } else {\n            window.myRTC.writeToChatLog(data.message, 'text-info')\n            // Scroll chat text area to the bottom on new input.\n            $('#chatlog').scrollTop($('#chatlog')[0].scrollHeight)\n          }\n        }\n      }\n    } catch (e) { console.warn('No data channel (pc1)', e); }\n  }\n\n  window.myRTC.createLocalOffer = function() {\n    console.log('video1')\n    navigator.getUserMedia = navigator.getUserMedia ||\n                             navigator.webkitGetUserMedia ||\n                             navigator.mozGetUserMedia ||\n                             navigator.msGetUserMedia\n    navigator.getUserMedia({video: true, audio: true}, function (stream) {\n      var video = document.getElementById('localVideo')\n      video.src = window.URL.createObjectURL(stream)\n      video.play()\n      window.myRTC.pc1.addStream(stream)\n      console.log(stream)\n      console.log('adding stream to pc1')\n      window.myRTC.setupDC1()\n      window.myRTC.pc1.createOffer(function (desc) {\n        window.myRTC.pc1.setLocalDescription(desc, function () {}, function () {})\n        console.log('created local offer', desc)\n      },\n      function () { console.warn(\"Couldn't create offer\") },\n      window.myRTC.sdpConstraints)\n    }, function (error) {\n      console.log('Error adding stream to pc1: ' + error)\n    })\n  }\n\n  window.myRTC.pc1.onicecandidate = function (e) {\n    console.log('ICE candidate (pc1)', e)\n    if (e.candidate == null) {\n      $('#localOffer').html(JSON.stringify(window.myRTC.pc1.localDescription))\n    }\n  }\n\n  window.myRTC.handleOnaddstream = function(e) {\n    console.log('Got remote stream', e.stream)\n    var el = document.getElementById('remoteVideo')\n    el.autoplay = true\n    window.myRTC.attachMediaStream(el, e.stream)\n  }\n\n  window.myRTC.pc1.onaddstream = window.myRTC.handleOnaddstream\n\n  window.myRTC.handleOnconnection = function() {\n    console.log('Datachannel connected')\n    window.myRTC.writeToChatLog('Datachannel connected', 'text-success')\n    $('#waitForConnection').modal('hide')\n    // If we didn't call remove() here, there would be a race on pc2:\n    //   - first onconnection() hides the dialog, then someone clicks\n    //     on answerSentBtn which shows it, and it stays shown forever.\n    $('#waitForConnection').remove()\n    $('#showLocalAnswer').modal('hide')\n    $('#messageTextBox').focus()\n    $('.modal-backdrop').hide()\n  }\n\n  window.myRTC.pc1.onconnection = window.myRTC.handleOnconnection\n\n  window.myRTC.onsignalingstatechange = function(state) {\n    console.info('signaling state change:', state)\n  }\n\n  window.myRTC.oniceconnectionstatechange = function(state) {\n    console.info('ice connection state change:', state)\n  }\n\n  window.myRTC.onicegatheringstatechange = function(state) {\n    console.info('ice gathering state change:', state)\n  }\n\n  window.myRTC.pc1.onsignalingstatechange = window.myRTC.onsignalingstatechange\n  window.myRTC.pc1.oniceconnectionstatechange = window.myRTC.oniceconnectionstatechange\n  window.myRTC.pc1.onicegatheringstatechange = window.myRTC.onicegatheringstatechange\n\n  window.myRTC.handleAnswerFromPC2 = function(answerDesc) {\n    console.log('Received remote answer: ', answerDesc)\n    window.myRTC.writeToChatLog('Received remote answer', 'text-success')\n    window.myRTC.pc1.setRemoteDescription(answerDesc)\n  }\n\n  window.myRTC.handleCandidateFromPC2 = function(iceCandidate) {\n    window.myRTC.pc1.addIceCandidate(iceCandidate)\n  }\n\n  /* THIS IS BOB, THE ANSWERER/RECEIVER */\n\n  window.myRTC.pc2 = new window.myRTC.RTCPeerConnection(window.myRTC.cfg, window.myRTC.con)\n  window.myRTC.dc2 = null\n\n  window.myRTC.pc2icedone = false\n\n  window.myRTC.pc2.ondatachannel = function (e) {\n    var fileReceiver2 = new window.myRTC.FileReceiver()\n    var datachannel = e.channel || e; // Chrome sends event, FF sends raw channel\n    console.log('Received datachannel (pc2)', arguments)\n    window.myRTC.dc2 = datachannel\n    window.myRTC.activedc = window.myRTC.dc2\n    window.myRTC.dc2.onopen = function (e) {\n      console.log('data channel connect')\n      $('#waitForConnection').modal('hide')\n      $('#waitForConnection').remove()\n    }\n    window.myRTC.dc2.onmessage = function (e) {\n      console.log('Got message (pc2)', e.data)\n      if (e.data.size) {\n        fileReceiver2.receive(e.data, {})\n      } else {\n        var data = JSON.parse(e.data)\n        if (data.type === 'file') {\n          fileReceiver2.receive(e.data, {})\n        } else {\n          window.myRTC.writeToChatLog(data.message, 'text-info')\n          // Scroll chat text area to the bottom on new input.\n          $('#chatlog').scrollTop($('#chatlog')[0].scrollHeight)\n        }\n      }\n    }\n  }\n\n  window.myRTC.handleOfferFromPC1 = function(offerDesc) {\n    window.myRTC.pc2.setRemoteDescription(offerDesc)\n    window.myRTC.pc2.createAnswer(function (answerDesc) {\n      window.myRTC.writeToChatLog('Created local answer', 'text-success')\n      console.log('Created local answer: ', answerDesc)\n      window.myRTC.pc2.setLocalDescription(answerDesc)\n    },\n    function () { console.warn(\"Couldn't create offer\") },\n    window.myRTC.sdpConstraints)\n  }\n\n  window.myRTC.pc2.onicecandidate = function (e) {\n    console.log('ICE candidate (pc2)', e)\n    if (e.candidate == null) {\n      $('#localAnswer').html(JSON.stringify(window.myRTC.pc2.localDescription))\n    }\n  }\n\n  window.myRTC.pc2.onsignalingstatechange = window.myRTC.onsignalingstatechange\n  window.myRTC.pc2.oniceconnectionstatechange = window.myRTC.oniceconnectionstatechange\n  window.myRTC.pc2.onicegatheringstatechange = window.myRTC.onicegatheringstatechange\n\n  window.myRTC.handleCandidateFromPC1 = function(iceCandidate) {\n    window.myRTC.pc2.addIceCandidate(iceCandidate)\n  }\n\n  window.myRTC.pc2.onaddstream = window.myRTC.handleOnaddstream\n  window.myRTC.pc2.onconnection = window.myRTC.handleOnconnection\n\n  window.myRTC.getTimestamp = function() {\n    var totalSec = new Date().getTime() / 1000\n    var hours = parseInt(totalSec / 3600) % 24\n    var minutes = parseInt(totalSec / 60) % 60\n    var seconds = parseInt(totalSec % 60)\n\n    var result = (hours < 10 ? '0' + hours : hours) + ':' +\n      (minutes < 10 ? '0' + minutes : minutes) + ':' +\n      (seconds < 10 ? '0' + seconds : seconds)\n\n    return result\n  }\n\n  window.myRTC.writeToChatLog = function(message, message_type) {\n    document.getElementById('chatlog').innerHTML += '<p class=\"' + message_type + '\">' + '[' + window.myRTC.getTimestamp() + '] ' + message + '</p>'\n  }\n\n  // file send\n  window.moz = !! navigator.mozGetUserMedia\n\n  window.myRTC.RTCMultiSession = function (options) {\n    return {\n      send: function (message) {\n        if (moz && message.file)\n          var data = message.file\n        else\n          var data = JSON.stringify(message)\n\n        window.myRTC.activedc.send(data)\n      }\n    }\n  }\n\n  window.myRTC.FileSender = {\n    send: function (config) {\n      var channel = config.channel || new window.myRTC.RTCMultiSession()\n      var file = config.file\n\n      /* if firefox nightly: share file blob directly */\n      if (moz) {\n        /* used on the receiver side to set received file name */\n        channel.send({\n          fileName: file.name,\n          type: 'file'\n        })\n\n        /* sending the entire file at once */\n        channel.send({\n          file: file\n        })\n\n        if (config.onFileSent) config.onFileSent(file)\n      }\n\n      /* if chrome */\n      if (!moz) {\n        var reader = new window.FileReader()\n        reader.readAsDataURL(file)\n        reader.onload = onReadAsDataURL\n      }\n\n      var packetSize = 1000 /* chars */ ,\n        textToTransfer = '',\n        numberOfPackets = 0,\n        packets = 0\n\n      function onReadAsDataURL (event, text) {\n        var data = {\n          type: 'file'\n        }\n\n        if (event) {\n          text = event.target.result\n          numberOfPackets = packets = data.packets = parseInt(text.length / packetSize)\n        }\n\n        if (config.onFileProgress)\n          config.onFileProgress({\n            remaining: packets--,\n            length: numberOfPackets,\n            sent: numberOfPackets - packets\n          })\n\n        if (text.length > packetSize) {\n          data.message = text.slice(0, packetSize)\n        } else {\n          data.message = text\n          data.last = true\n          data.name = file.name\n\n          if (config.onFileSent) config.onFileSent(file)\n        }\n\n        channel.send(data)\n\n        textToTransfer = text.slice(data.message.length)\n\n        if (textToTransfer.length)\n          setTimeout(function () {\n            onReadAsDataURL(null, textToTransfer)\n          }, 500)\n      }\n    }\n  }\n\n  window.myRTC.FileReceiver = function() {\n    var content = [],\n      fileName = '',\n      packets = 0,\n      numberOfPackets = 0\n\n    function receive (data, config) {\n      /* if firefox nightly & file blob shared */\n      if (moz) {\n        if (!data.size) {\n          var parsedData = JSON.parse(data)\n          if (parsedData.fileName) {\n            fileName = parsedData.fileName\n          }\n        } else {\n          var reader = new window.FileReader()\n          reader.readAsDataURL(data)\n          reader.onload = function (event) {\n            window.myRTC.FileSaver.SaveToDisk(event.target.result, fileName)\n            if (config.onFileReceived) config.onFileReceived(fileName)\n          }\n        }\n      }\n\n      if (!moz) {\n        if (data.packets)\n          numberOfPackets = packets = parseInt(data.packets)\n\n        if (config.onFileProgress)\n          config.onFileProgress({\n            remaining: packets--,\n            length: numberOfPackets,\n            received: numberOfPackets - packets\n          })\n\n        content.push(data.message)\n\n        if (data.last) {\n          window.myRTC.FileSaver.SaveToDisk(content.join(''), data.name)\n          if (config.onFileReceived)\n            config.onFileReceived(data.name)\n          content = []\n        }\n      }\n    }\n\n    return {\n      receive: receive\n    }\n  }\n\n  window.myRTC.FileSaver = {\n    SaveToDisk: function (fileUrl, fileName) {\n      var save = document.createElement('a')\n      save.href = fileUrl\n      save.target = '_blank'\n      save.download = fileName || fileUrl\n\n      var evt = new MouseEvent('click', {\n        view: window,\n        bubbles: true,\n        cancelable: true\n      })\n\n      save.dispatchEvent(evt)\n\n      ;(window.URL || window.webkitURL).revokeObjectURL(save.href)\n    }\n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/assets/js/WebRTC.js\n **/","<template>\n  <div id=\"app\">\n    <home></home>\n    <my-footer></my-footer>\n  </div>\n</template>\n\n<script>\n  import Home from './components/Home'\n  import MyFooter from './components/Footer'\n\n  export default {\n    components: {\n      Home,\n      MyFooter\n    }\n  }\n</script>\n\n<style>\n  html, body, #app {\n      width: 100%;\n      height: 100%;\n\n      overflow: hidden;\n\n      padding: 0;\n      margin: 0;\n  }\n\n  .fade-transition {\n    transition: opacity .3s ease;\n  }\n  .fade-enter, .fade-leave {\n    opacity: 0;\n  }\n</style>\n\n\n\n/** WEBPACK FOOTER **\n ** App.vue?4a2cdcd7\n **/","<template>\n  <footer class=\"footer\">\n    <div class=\"container\">\n      <form id=\"chatTypeSelect\">\n        <fieldset>\n          <label>\n            <input id=\"chatTypeInput\" type=\"checkbox\" v-on:change=\"changeCommsMethod\" checked>\n            <div>\n              <span class=\"yes\"><i class=\"fa fa-video-camera\" aria-hidden=\"true\"></i></span>\n              <span class=\"no\"><i class=\"fa fa-comments\" aria-hidden=\"true\"></i></span>\n            </div>\n            <a class=\"slider\"></a>\n          </label>  \n        </fieldset>\n      </form>\n    </div>\n  </footer>\n</template>\n\n<script>\n  import Store from '../store/store.js'\n\n  export default {\n    methods: {\n      changeCommsMethod: function() {\n        var newView = ( $('#chatTypeInput').is(':checked') ) ? 'video-chat' : 'text-chat';\n        Store.changeView(newView);\n      }\n    }\n  }\n</script>\n\n<style scoped>\n  footer {\n    width: 100%;\n\n    background-color: #f5f5f5;\n\n    position: absolute;\n    bottom: 0px;\n\n    height: 50px;\n  }\n\n  i {\n    position: relative;\n    top: -3px;\n  }\n  /* Thanks!\n   * https://codepen.io/jarmie/pen/tFqJH\n   */\n\n  label {\n    display: inline-block;\n    width: 100px;\n    height: 30px;\n    border: 3px solid rgba(0,0,0,0.07);\n    border-radius: 17px;\n    position: relative;\n    box-shadow:  inset 1px 1px 1px 1px rgba(0,0,0,0.4), 0px 0px 0px 1px rgba(0,0,0,0.1), 0px 0px 0px 2px rgba(0,0,0,0.1), 0px 0px 4px 2px rgba(0,0,0,0.07);\n    margin: 0px;\n  }\n\n  input {\n    display: none;\n  }\n  \n  input:checked ~ a {\n    left: 50%;\n  }\n  \n  input:checked ~ div span {\n    background-color: rgba(0,158,255,0.5);\n  }\n  \n  label div {\n  }\n  \n  label span {\n    z-index: 1;\n    position: absolute;\n    display: inline-block;\n    height: 24px;\n    left: 0;\n    width: 50%;\n    border-radius: 15px 0px 0px 15px;\n    border-color: rgba(0,0,0,0.1);\n    border-style: solid;\n    border-width: 1px 0px 1px 1px;\n    background-color: rgba(200,200,200,0.5);\n    background-image:-webkit-linear-gradient(90deg, rgba(0,0,0,0.1) 0%, rgba(0,0,0,0.0) 100%);\n    text-align: center;\n    line-height: 30px;\n    font-family: helvetica, sans-serif;\n    font-size: 14px;\n    font-weight: 800;\n    color: #555;\n    text-shadow: 0px 1px white;\n    -webkit-transition: all 1.0s ease-in-out;\n    -moz-transition: all 1.0s ease-in-out;\n    transition: all 1.0s ease-in-out;\n    \n\n  }\n\n  label span.no {\n\n    left: 50%;  \n    border-radius: 0px 15px 15px 0px;     \n    border-width: 1px 1px 1px 0px;\n\n  }\n  \n  .slider {\n    display: inline-block;\n    position: absolute;\n    width: 50%;\n    height: 24px;\n    background-color: #efefef;\n    left: 0%;\n    border-radius: 30px;\n    z-index: 2;\n    border: 1px solid rgba(0,0,0,0.2);\n    box-shadow: inset 0px 0px 5px 1px rgba(0,0,0,0.1), 0px 1px 1px 0px rgba(0,0,0,0.2);\n    -webkit-transition: all 0.5s ease-in-out;\n    -moz-transition: all 0.5s ease-in-out;\n    transition: all 0.5s ease-in-out;\n\n  }\n  \n  .slider:after, .slider:before {\n    content: \"\";\n    width: 30%;\n    height: 25px;\n    position: absolute;\n    top: 2px;\n    border-radius: 50%;\n  }\n\n  .slider:after {\n    left: 15%;\n    background-image:-webkit-linear-gradient(180deg, rgba(0,0,0,0.1) 0%, rgba(0,0,0,0.0) 100%);\n  }\n  .slider:before {\n    right: 15%;\n    background-image:-webkit-linear-gradient(0deg, rgba(0,0,0,0.1) 0%, rgba(0,0,0,0.0) 100%);\n  }\n\n  \n  form {\n    width: 100%;\n    margin: 0px auto;\n    font-family: georgia, times, serif;\n  }\n  \n  fieldset {\n    padding: 10px;\n    text-align: center;\n    border-radius: 3px;\n    color: #666;\n  }\n</style>\n\n\n/** WEBPACK FOOTER **\n ** Footer.vue?56ff973e\n **/","<template>\n  <div id=\"mainContainer\" class=\"container\">\n    <video-chat v-show=\"commsMethodIsSelected('video-chat')\" :is=\"view\" transition=\"fade\" transition-mode=\"out-in\"></video-chat>\n    <text-chat v-show=\"commsMethodIsSelected('text-chat')\" :is=\"view\" transition=\"fade\" transition-mode=\"out-in\"></text-chat>\n\n    <div class=\"modal fade\" id=\"showLocalOffer\" data-backdrop=\"static\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myModalLabel\" aria-hidden=\"true\" hidden>\n      <div class=\"modal-dialog\" role=\"document\">\n        <div class=\"modal-content\">      \n          <div class=\"modal-header\">\n            <h3 id=\"myModalLabel\">Send your local offer to someone else</h3>\n          </div>\n          <div class=\"modal-body\">\n            Here's your \"offer\" -- it tells someone else how to connect to you.  Send the whole thing to them, for example in an instant message or e-mail.\n          <br/>\n          <textarea class=\"input-large\" id=\"localOffer\" name=\"localOffer\" rows=\"10\" cols=\"100\"></textarea>\n          </div>\n          <div class=\"modal-footer\">\n            <button class=\"btn btn-primary\" id=\"offerSentBtn\" data-dismiss=\"modal\" aria-hidden=\"true\">Okay, I sent it.</button>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"modal fade\" id=\"showLocalAnswer\" data-backdrop=\"static\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myModalLabel\" aria-hidden=\"true\" hidden>\n      <div class=\"modal-dialog\" role=\"document\">\n        <div class=\"modal-content\">      \n          <div class=\"modal-header\">\n            <h3 id=\"myModalLabel\">Send your local answer to someone else</h3>\n          </div>\n          <div class=\"modal-body\">\n            Here's your \"answer\" -- it tells someone else how to connect to you.  Send the whole thing to them, for example in an instant message or e-mail.\n          <br/>\n          <textarea class=\"input-large\" id=\"localAnswer\" name=\"localAnswer\" rows=\"10\" cols=\"100\"></textarea>\n          </div>\n          <div class=\"modal-footer\">\n            <button class=\"btn btn-primary\" id=\"answerSentBtn\" data-dismiss=\"modal\" aria-hidden=\"true\">Okay, I sent it.</button>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"modal fad\" id=\"getRemoteOffer\" data-backdrop=\"static\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myModalLabel\" aria-hidden=\"true\" hidden>\n      <div class=\"modal-dialog\" role=\"document\">\n        <div class=\"modal-content\">      \n          <div class=\"modal-header\">\n            <h3 id=\"myModalLabel\">Paste the \"offer\" you received</h3>\n          </div>\n          <div class=\"modal-body\">\n            The person who created the room will send you an \"offer\" string -- paste it here.\n          <br/>\n          <textarea class=\"input-large\" id=\"remoteOffer\" name=\"remoteOffer\" rows=\"10\" cols=\"100\"></textarea>\n          </div>\n          <div class=\"modal-footer\">\n            <button class=\"btn btn-primary\" id=\"offerRecdBtn\" data-dismiss=\"modal\" aria-hidden=\"true\">Okay, I pasted it.</button>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"modal fade\" id=\"getRemoteAnswer\" data-backdrop=\"static\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myModalLabel\" aria-hidden=\"true\" hidden>\n      <div class=\"modal-dialog\" role=\"document\">\n        <div class=\"modal-content\">      \n          <div class=\"modal-header\">\n            <h3 id=\"myModalLabel\">Paste the \"answer\" you received</h3>\n          </div>\n          <div class=\"modal-body\">\n            Now paste in the \"answer\" that was sent back to you.\n          <br/>\n          <textarea class=\"input-large\" id=\"remoteAnswer\" name=\"remoteAnswer\" rows=\"10\" cols=\"100\"></textarea>\n          </div>\n          <div class=\"modal-footer\">\n            <button class=\"btn btn-primary\" id=\"answerRecdBtn\" data-dismiss=\"modal\" aria-hidden=\"true\">Okay, I pasted it.</button>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"modal fade\" id=\"waitForConnection\" data-backdrop=\"static\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myModalLabel\" aria-hidden=\"true\" hidden>\n      <div class=\"modal-dialog\" role=\"document\">\n        <div class=\"modal-content\">    \n          <div class=\"modal-header\">\n            <h3 id=\"myModalLabel\">Waiting for connection</h3>\n          </div>\n          <div class=\"modal-body\">\n            This dialog will disappear when a connection is made.\n          </div>\n          <div class=\"spinner\" align=\"center\">\n            <img src=\"../assets/img/spinner.gif\"></img>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"modal fade\" id=\"createOrJoin\" data-backdrop=\"static\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myModalLabel\" aria-hidden=\"true\">\n      <div class=\"modal-dialog\" role=\"document\">\n        <div class=\"modal-content\">    \n          <div class=\"modal-header\">\n            <h3 id=\"myModalLabel\">Create or join a room?</h3>\n          </div>\n          <div class=\"modal-footer\">\n            <button class=\"btn\" id=\"joinBtn\" data-dismiss=\"modal\" aria-hidden=\"true\">Join</button>\n            <button class=\"btn btn-primary\" id=\"createBtn\" data-dismiss=\"modal\" aria-hidden=\"true\">Create</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  import Store from '../store/store.js'\n  import VideoChat from './VideoChat'\n  import TextChat from './TextChat'\n  import MyRTC from '../assets/js/WebRTC.js'\n\n  function setVideoProperties() {\n    var containerWidth = $(\"#videoChatWrapper\").width();\n    var containerHeight = $(\"#videoChatWrapper\").height();\n\n    // is the container tall enough? vids are 4:3; there are 2 streams\n    if ( containerHeight >= 2 * ( containerWidth * 3 / 4 ) ) {\n      // container is tall enough\n      $(\"video\").css({\n        \"width\": containerWidth,\n        \"height\": 3 / 4 * containerWidth\n      });\n    } else {\n      // container is not tall enough\n      $(\"video\").css({\n        \"width\": ( containerHeight / 2 ) * 4 / 3,\n        \"height\": containerHeight / 2\n      });\n    };\n  }\n\n  function run() {console.log(\"running\");\n    $('#showLocalOffer').modal('hide')\n    $('#getRemoteAnswer').modal('hide')\n    $('#waitForConnection').modal('hide')\n    $('#createOrJoin').modal('show')\n\n    $('#createBtn').click(function () {\n      $('#showLocalOffer').modal('show')\n      window.myRTC.createLocalOffer()\n    })\n\n    $('#joinBtn').click(function () {\n      navigator.getUserMedia = navigator.getUserMedia ||\n                               navigator.webkitGetUserMedia ||\n                               navigator.mozGetUserMedia ||\n                               navigator.msGetUserMedia\n      navigator.getUserMedia({video: true, audio: true}, function (stream) {\n        var video = document.getElementById('localVideo')\n        video.src = window.URL.createObjectURL(stream)\n        video.play()\n        window.myRTC.pc2.addStream(stream)\n      }, function (error) {\n        console.log('Error adding stream to pc2: ' + error)\n      })\n      $('#getRemoteOffer').modal('show')\n    })\n\n    $('#offerSentBtn').click(function () {\n      $('#getRemoteAnswer').modal('show')\n    })\n\n    $('#offerRecdBtn').click(function () {\n      var offer = $('#remoteOffer').val()\n      var offerDesc = new window.myRTC.RTCSessionDescription(JSON.parse(offer))\n      console.log('Received remote offer', offerDesc)\n      window.myRTC.writeToChatLog('Received remote offer', 'text-success')\n      window.myRTC.handleOfferFromPC1(offerDesc)\n      $('#showLocalAnswer').modal('show')\n    })\n\n    $('#answerSentBtn').click(function () {\n      $('#waitForConnection').modal('show')\n    })\n\n    $('#answerRecdBtn').click(function () {\n      var answer = $('#remoteAnswer').val()\n      var answerDesc = new window.myRTC.RTCSessionDescription(JSON.parse(answer))\n      window.myRTC.handleAnswerFromPC2(answerDesc)\n      $('#waitForConnection').modal('show')\n    })\n\n    $('#fileBtn').change(function () {\n      var file = this.files[0]\n      console.log(file)\n\n      window.myRTC.sendFile(file)\n    })\n    console.log(\"done running\");\n  }\n\n  export default {\n    components: {\n      VideoChat,\n      TextChat\n    },\n    data: function() {\n        return {\n            'sharedState': Store.state.appData\n        };\n    },\n    ready: function() {console.log(\"ready\");\n      setVideoProperties();\n\n      if ( navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry|IEMobile)/) ) {\n        // cordova!\n        if ( window.device ) {\n          // device ready\n          run();\n        } else {\n          // device not ready\n          document.addEventListener('deviceready', function () {\n            run();\n          });\n        };\n      } else {\n        // not cordova\n        run();\n      };\n    },\n    methods: {\n      commsMethodIsSelected: function (selectedMethod) {\n        return this.sharedState.viewEnabled === selectedMethod;\n      }\n    },\n    computed: {\n    }\n  }\n</script>\n\n<style scoped>\n  #mainContainer {\n    height: calc(100% - 50px);\n\n    padding: 15px;\n  }\n\n  textarea {\n    resize: none;\n\n    max-width: 100%;\n  }\n\n  input {\n    width: 100%;\n\n    margin-bottom: 10px;\n  }\n\n  video {\n     width: 100%;\n     height: auto;\n  }\n</style>\n\n\n/** WEBPACK FOOTER **\n ** Home.vue?2c02c8c1\n **/","<template>\n  <div id=\"chatWrapper\">\n    <fieldset class=\"well\">\n      <div id=\"chatlog\" class=\"text-info\" style=\"height:350px; overflow:auto;\">\n      </div>\n    </fieldset>\n    <form class=\"form-inline\" v-on:submit.prevent=\"sendMessage\" action=\"\">\n      <textarea id=\"messageTextBox\" type=\"text\" placeholder=\"Type your message here\"></textarea>\n      <button id=\"sendMessageBtn\" type=\"submit\" class=\"btn btn-primary\">Send message</button>\n    </form>\n  </div>\n</template>\n\n<script>\n  export default {\n    methods: {\n      sendMessage: function() {console.log(window.myRTC.RTCMultiSession);\n        if ($('#messageTextBox').val()) {\n          var channel = new window.myRTC.RTCMultiSession()\n          window.myRTC.writeToChatLog($('#messageTextBox').val(), 'text-success')\n          channel.send({message: $('#messageTextBox').val()})\n          $('#messageTextBox').val('')\n\n          // Scroll chat text area to the bottom on new input.\n          $('#chatlog').scrollTop($('#chatlog')[0].scrollHeight)\n        }\n\n        return false\n      }\n    }\n  }\n</script>\n\n<style scoped>\n  #chatWrapper {\n    height: 100%;\n    width: 100%;\n  }\n  #chatlog {\n    width: 100%;\n    height: 100%;\n\n    overflow-y: auto;\n  }\n\n  #messageTextBox {\n    width: 100%;\n    height: 50px;\n\n    resize: none;\n\n    /*\n    border: solid 1px #dcdcdc;\n    box-shadow: inset 0 1px 3px rgba(0,0,0,.05),0 1px 0 rgba(255,255,255,.1);\n    */\n  }\n\n  form {\n    text-align: center;\n  }\n\n  button {\n    margin-top: 3px;\n  }\n\n  fieldset {\n    height: calc(100% - 100px - 25px);\n  }\n\n  input[type=text], textarea {\n    -webkit-transition: all 0.30s ease-in-out;\n    -moz-transition: all 0.30s ease-in-out;\n    -ms-transition: all 0.30s ease-in-out;\n    -o-transition: all 0.30s ease-in-out;\n    outline: none;\n    padding: 3px 0px 3px 3px;\n    margin: 5px 1px 3px 0px;\n    border: 1px solid #DDDDDD;\n  }\n \n  input[type=text]:focus, textarea:focus {\n    box-shadow: 0 0 5px rgba(81, 203, 238, 1);\n    padding: 3px 0px 3px 3px;\n    margin: 5px 1px 3px 0px;\n    border: 1px solid rgba(81, 203, 238, 1);\n  }\n\n  .bubbleLeft {\n    position: relative;\n    width: 250px;\n    height: 100px;\n    padding: 0px;\n    background: #D7E4ED;\n    -webkit-border-radius: 5px;\n    -moz-border-radius: 5px;\n    border-radius: 5px;\n    -webkit-box-shadow: 2px 2px 10px 0px #A8A8A8;\n    -moz-box-shadow: 2px 2px 10px 0px #A8A8A8;\n    box-shadow: 2px 2px 10px 0px #A8A8A8;\n  }\n\n  .bubbleLeft:after {\n    content: \"\";\n    position: absolute;\n    top: 7px;\n    left: -15px;\n    border-style: solid;\n    border-width: 15px 15px 15px 0;\n    border-color: transparent #D7E4ED;\n    display: block;\n    width: 0;\n    z-index: 1;\n  }\n\n  .bubbleRight {\n    position: relative;\n    width: 250px;\n    height: 100px;\n    padding: 0px;\n    background: #EEEEEE;\n    -webkit-border-radius: 5px;\n    -moz-border-radius: 5px;\n    border-radius: 5px;\n    -webkit-box-shadow: 2px 2px 10px 0px #A8A8A8;\n    -moz-box-shadow: 2px 2px 10px 0px #A8A8A8;\n    box-shadow: 2px 2px 10px 0px #A8A8A8;\n  }\n\n  .bubbleRight:after {\n    content: \"\";\n    position: absolute;\n    top: 7px;\n    right: -15;\n    border-style: solid;\n    border-width: 15px 0 15px 15px;\n    border-color: transparent #EEEEEE;\n    display: block;\n    width: 0;\n    z-index: 1;\n  }\n</style>\n\n\n/** WEBPACK FOOTER **\n ** TextChat.vue?9ee44b2e\n **/","module.exports = __webpack_public_path__ + \"static/img/spinner.9c1bc71.gif\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/assets/img/spinner.gif\n ** module id = 16\n ** module chunks = 1\n **/","module.exports = \" <div id=app> <home></home> <my-footer></my-footer> </div> \";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n ** module id = 17\n ** module chunks = 1\n **/","module.exports = \" <div id=chatWrapper _v-18315b3e=\\\"\\\"> <fieldset class=well _v-18315b3e=\\\"\\\"> <div id=chatlog class=text-info style=\\\"height:350px; overflow:auto\\\" _v-18315b3e=\\\"\\\"> </div> </fieldset> <form class=form-inline v-on:submit.prevent=sendMessage action=\\\"\\\" _v-18315b3e=\\\"\\\"> <textarea id=messageTextBox type=text placeholder=\\\"Type your message here\\\" _v-18315b3e=\\\"\\\"></textarea> <button id=sendMessageBtn type=submit class=\\\"btn btn-primary\\\" _v-18315b3e=\\\"\\\">Send message</button> </form> </div> \";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-html-loader!./~/vue-loader/lib/template-rewriter.js?id=_v-18315b3e!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/TextChat.vue\n ** module id = 18\n ** module chunks = 1\n **/","module.exports = \" <div id=videoChatWrapper _v-75281aac=\\\"\\\"> <video id=localVideo muted=\\\"\\\" _v-75281aac=\\\"\\\"></video> <video id=remoteVideo muted=\\\"\\\" _v-75281aac=\\\"\\\"></video> </div> \";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-html-loader!./~/vue-loader/lib/template-rewriter.js?id=_v-75281aac!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/VideoChat.vue\n ** module id = 19\n ** module chunks = 1\n **/","module.exports = \" <footer class=footer _v-a3de7818=\\\"\\\"> <div class=container _v-a3de7818=\\\"\\\"> <form id=chatTypeSelect _v-a3de7818=\\\"\\\"> <fieldset _v-a3de7818=\\\"\\\"> <label _v-a3de7818=\\\"\\\"> <input id=chatTypeInput type=checkbox v-on:change=changeCommsMethod checked=\\\"\\\" _v-a3de7818=\\\"\\\"> <div _v-a3de7818=\\\"\\\"> <span class=yes _v-a3de7818=\\\"\\\"><i class=\\\"fa fa-video-camera\\\" aria-hidden=true _v-a3de7818=\\\"\\\"></i></span> <span class=no _v-a3de7818=\\\"\\\"><i class=\\\"fa fa-comments\\\" aria-hidden=true _v-a3de7818=\\\"\\\"></i></span> </div> <a class=slider _v-a3de7818=\\\"\\\"></a> </label> </fieldset> </form> </div> </footer> \";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-html-loader!./~/vue-loader/lib/template-rewriter.js?id=_v-a3de7818!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Footer.vue\n ** module id = 20\n ** module chunks = 1\n **/","module.exports = \" <div id=mainContainer class=container _v-df99c510=\\\"\\\"> <video-chat v-show=\\\"commsMethodIsSelected('video-chat')\\\" :is=view transition=fade transition-mode=out-in _v-df99c510=\\\"\\\"></video-chat> <text-chat v-show=\\\"commsMethodIsSelected('text-chat')\\\" :is=view transition=fade transition-mode=out-in _v-df99c510=\\\"\\\"></text-chat> <div class=\\\"modal fade\\\" id=showLocalOffer data-backdrop=static tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true hidden=\\\"\\\" _v-df99c510=\\\"\\\"> <div class=modal-dialog role=document _v-df99c510=\\\"\\\"> <div class=modal-content _v-df99c510=\\\"\\\"> <div class=modal-header _v-df99c510=\\\"\\\"> <h3 id=myModalLabel _v-df99c510=\\\"\\\">Send your local offer to someone else</h3> </div> <div class=modal-body _v-df99c510=\\\"\\\"> Here's your \\\"offer\\\" -- it tells someone else how to connect to you. Send the whole thing to them, for example in an instant message or e-mail. <br _v-df99c510=\\\"\\\"> <textarea class=input-large id=localOffer name=localOffer rows=10 cols=100 _v-df99c510=\\\"\\\"></textarea> </div> <div class=modal-footer _v-df99c510=\\\"\\\"> <button class=\\\"btn btn-primary\\\" id=offerSentBtn data-dismiss=modal aria-hidden=true _v-df99c510=\\\"\\\">Okay, I sent it.</button> </div> </div> </div> </div> <div class=\\\"modal fade\\\" id=showLocalAnswer data-backdrop=static tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true hidden=\\\"\\\" _v-df99c510=\\\"\\\"> <div class=modal-dialog role=document _v-df99c510=\\\"\\\"> <div class=modal-content _v-df99c510=\\\"\\\"> <div class=modal-header _v-df99c510=\\\"\\\"> <h3 id=myModalLabel _v-df99c510=\\\"\\\">Send your local answer to someone else</h3> </div> <div class=modal-body _v-df99c510=\\\"\\\"> Here's your \\\"answer\\\" -- it tells someone else how to connect to you. Send the whole thing to them, for example in an instant message or e-mail. <br _v-df99c510=\\\"\\\"> <textarea class=input-large id=localAnswer name=localAnswer rows=10 cols=100 _v-df99c510=\\\"\\\"></textarea> </div> <div class=modal-footer _v-df99c510=\\\"\\\"> <button class=\\\"btn btn-primary\\\" id=answerSentBtn data-dismiss=modal aria-hidden=true _v-df99c510=\\\"\\\">Okay, I sent it.</button> </div> </div> </div> </div> <div class=\\\"modal fad\\\" id=getRemoteOffer data-backdrop=static tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true hidden=\\\"\\\" _v-df99c510=\\\"\\\"> <div class=modal-dialog role=document _v-df99c510=\\\"\\\"> <div class=modal-content _v-df99c510=\\\"\\\"> <div class=modal-header _v-df99c510=\\\"\\\"> <h3 id=myModalLabel _v-df99c510=\\\"\\\">Paste the \\\"offer\\\" you received</h3> </div> <div class=modal-body _v-df99c510=\\\"\\\"> The person who created the room will send you an \\\"offer\\\" string -- paste it here. <br _v-df99c510=\\\"\\\"> <textarea class=input-large id=remoteOffer name=remoteOffer rows=10 cols=100 _v-df99c510=\\\"\\\"></textarea> </div> <div class=modal-footer _v-df99c510=\\\"\\\"> <button class=\\\"btn btn-primary\\\" id=offerRecdBtn data-dismiss=modal aria-hidden=true _v-df99c510=\\\"\\\">Okay, I pasted it.</button> </div> </div> </div> </div> <div class=\\\"modal fade\\\" id=getRemoteAnswer data-backdrop=static tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true hidden=\\\"\\\" _v-df99c510=\\\"\\\"> <div class=modal-dialog role=document _v-df99c510=\\\"\\\"> <div class=modal-content _v-df99c510=\\\"\\\"> <div class=modal-header _v-df99c510=\\\"\\\"> <h3 id=myModalLabel _v-df99c510=\\\"\\\">Paste the \\\"answer\\\" you received</h3> </div> <div class=modal-body _v-df99c510=\\\"\\\"> Now paste in the \\\"answer\\\" that was sent back to you. <br _v-df99c510=\\\"\\\"> <textarea class=input-large id=remoteAnswer name=remoteAnswer rows=10 cols=100 _v-df99c510=\\\"\\\"></textarea> </div> <div class=modal-footer _v-df99c510=\\\"\\\"> <button class=\\\"btn btn-primary\\\" id=answerRecdBtn data-dismiss=modal aria-hidden=true _v-df99c510=\\\"\\\">Okay, I pasted it.</button> </div> </div> </div> </div> <div class=\\\"modal fade\\\" id=waitForConnection data-backdrop=static tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true hidden=\\\"\\\" _v-df99c510=\\\"\\\"> <div class=modal-dialog role=document _v-df99c510=\\\"\\\"> <div class=modal-content _v-df99c510=\\\"\\\"> <div class=modal-header _v-df99c510=\\\"\\\"> <h3 id=myModalLabel _v-df99c510=\\\"\\\">Waiting for connection</h3> </div> <div class=modal-body _v-df99c510=\\\"\\\"> This dialog will disappear when a connection is made. </div> <div class=spinner align=center _v-df99c510=\\\"\\\"> <img src=\" + require(\"../assets/img/spinner.gif\") + \" _v-df99c510=\\\"\\\"> </div> </div> </div> </div> <div class=\\\"modal fade\\\" id=createOrJoin data-backdrop=static tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true _v-df99c510=\\\"\\\"> <div class=modal-dialog role=document _v-df99c510=\\\"\\\"> <div class=modal-content _v-df99c510=\\\"\\\"> <div class=modal-header _v-df99c510=\\\"\\\"> <h3 id=myModalLabel _v-df99c510=\\\"\\\">Create or join a room?</h3> </div> <div class=modal-footer _v-df99c510=\\\"\\\"> <button class=btn id=joinBtn data-dismiss=modal aria-hidden=true _v-df99c510=\\\"\\\">Join</button> <button class=\\\"btn btn-primary\\\" id=createBtn data-dismiss=modal aria-hidden=true _v-df99c510=\\\"\\\">Create</button> </div> </div> </div> </div> </div> \";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-html-loader!./~/vue-loader/lib/template-rewriter.js?id=_v-df99c510!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Home.vue\n ** module id = 21\n ** module chunks = 1\n **/","var __vue_script__, __vue_template__\nrequire(\"!!./../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!./../node_modules/vue-loader/lib/style-rewriter.js!./../node_modules/vue-loader/lib/selector.js?type=style&index=0!./App.vue\")\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!./../node_modules/vue-loader/lib/selector.js?type=script&index=0!./App.vue\")\n__vue_template__ = require(\"!!vue-html-loader!./../node_modules/vue-loader/lib/selector.js?type=template&index=0!./App.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nif (__vue_template__) {\n(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/App.vue\n ** module id = 22\n ** module chunks = 1\n **/","var __vue_script__, __vue_template__\nrequire(\"!!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!./../../node_modules/vue-loader/lib/style-rewriter.js?id=_v-a3de7818&scoped=true!./../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./Footer.vue\")\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!./../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./Footer.vue\")\n__vue_template__ = require(\"!!vue-html-loader!./../../node_modules/vue-loader/lib/template-rewriter.js?id=_v-a3de7818!./../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./Footer.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nif (__vue_template__) {\n(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/Footer.vue\n ** module id = 23\n ** module chunks = 1\n **/","var __vue_script__, __vue_template__\nrequire(\"!!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!./../../node_modules/vue-loader/lib/style-rewriter.js?id=_v-df99c510&scoped=true!./../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./Home.vue\")\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!./../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./Home.vue\")\n__vue_template__ = require(\"!!vue-html-loader!./../../node_modules/vue-loader/lib/template-rewriter.js?id=_v-df99c510!./../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./Home.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nif (__vue_template__) {\n(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/Home.vue\n ** module id = 24\n ** module chunks = 1\n **/","var __vue_script__, __vue_template__\nrequire(\"!!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!./../../node_modules/vue-loader/lib/style-rewriter.js?id=_v-18315b3e&scoped=true!./../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./TextChat.vue\")\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!./../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./TextChat.vue\")\n__vue_template__ = require(\"!!vue-html-loader!./../../node_modules/vue-loader/lib/template-rewriter.js?id=_v-18315b3e!./../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./TextChat.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nif (__vue_template__) {\n(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/TextChat.vue\n ** module id = 25\n ** module chunks = 1\n **/","var __vue_script__, __vue_template__\nrequire(\"!!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!./../../node_modules/vue-loader/lib/style-rewriter.js?id=_v-75281aac&scoped=true!./../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./VideoChat.vue\")\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!./../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./VideoChat.vue\")\n__vue_template__ = require(\"!!vue-html-loader!./../../node_modules/vue-loader/lib/template-rewriter.js?id=_v-75281aac!./../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./VideoChat.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nif (__vue_template__) {\n(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/VideoChat.vue\n ** module id = 26\n ** module chunks = 1\n **/"],"sourceRoot":""}